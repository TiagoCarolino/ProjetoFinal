@page "/createproduct"

@using ProjetoFinalAPI.Models;
@using Interfaces;
@using System.Diagnostics;

@inject IWebServiceAPI WebServiceAPI
@inject NavigationManager NavigationManager

<h3>CreateProduct</h3>


<EditForm Model="@NewProduct" OnValidSubmit="CreateNewProduct">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <MudGrid>
        <MudItem xs="12" sm="7">
            <MudCard>
                <MudCardContent>
                    <MudTextField Label="Name" Class="mt-3"
                    @bind-Value="NewProduct.Name"/>
                    <MudNumericField Label="Price" Class="mt-3"
                    @bind-Value="NewProduct.Price"/>
                    <div class="form-group">
                        <label for="categories">Category:</label>
                        <br />
                        <select @onchange="OnselectChanged">
                            <option value="0">Select a Category</option>
                            @foreach (var item in Categories)
                            {
                                <option value="@item.CategoryId">@item.Name</option>
                            }
                        </select>
                    </div>
                    <MudTextField Label="Description" Class="mt-3"
                    @bind-Value="NewProduct.Description"/>
                </MudCardContent>
                <MudCardActions>
                    <MudButton ButtonType="ButtonType.Submit" Variant="Variant.Filled" Color="Color.Primary" Class="ml-auto">Create</MudButton>
                </MudCardActions>
            </MudCard>
        </MudItem>
    </MudGrid>
</EditForm>
<ModalComponent @ref=@Modal Message=@Message></ModalComponent>

